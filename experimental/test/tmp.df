version 0;
section 'filter':
  define 'hi.ho':
    method {
      uint8;
      varuint32;
      uint8;
      if peek(uint8) {
        void;
      } else {
        uint8;
      }
      if peek(uint8) {
        uint8;
        varuint32;
      }
      eval 'symbol';
      map(fixed(1), uint8);
      loop varuint32 {
        call inst;
      }
      varuint64;
    }
    method inst {
      select uint8:
        default void;
        case 1 varuint32;
        case 2 { varuint32; varuint32; }
    }
  define 'symbol':
    method {
      loop varuint32 {
        uint8;
      }
    }
